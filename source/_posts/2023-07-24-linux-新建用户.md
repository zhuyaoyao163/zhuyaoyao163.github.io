---
title: linux 新建用户
date: 2023-07-24 17:35:54
tags:
---

### 

### 创建用户

1. adduser 用户名  
   passwd 用户名  
   优点：自动为用户创建指定的主目录以及系统的shell版本。

2. useradd  
   注意：创建的时候，需要加上参数
   
   ```
   1、格式
   
   　　useradd [-d home] [-s shell] [-c comment] [-m [-k template]] [-f inactive] [-e expire ] [-p passwd] [-r] name
   
   2、主要参数
   
   　　-c：加上备注文字，备注文字保存在passwd的备注栏中。
   
   　　-d：指定用户登入时的主目录，替换系统默认值/home/<用户名>
   
   　　-D：变更预设值。
   
   　　-e：指定账号的失效日期，日期格式为MM/DD/YY，例如06/30/12。缺省表示永久有效。
   
   　　-f：指定在密码过期后多少天即关闭该账号。如果为0账号立即被停用；如果为-1则账号一直可用。默认值为-1.
   
   　　-g：指定用户所属的群组。值可以使组名也可以是GID。用户组必须已经存在的，期默认值为100，即users。
   
   　　-G：指定用户所属的附加群组。
   
   　　-m：自动建立用户的登入目录。
   
   　　-M：不要自动建立用户的登入目录。
   
   　　-n：取消建立以用户名称为名的群组。
   
   　　-r：建立系统账号。
   
   　　-s：指定用户登入后所使用的shell。默认值为/bin/bash。
   
   　　-u：指定用户ID号。该值在系统中必须是唯一的。0~499默认是保留给系统用户账号使用的，所以该值必须大于499。
   ```
   
   ### 赋予sudo权限
   
   1. 编辑/etc/sudoers配置文件
   
   2. 在root ALL=(ALL) ALL下添加sysadm ALL=(ALL) ALL（注意：格式一定对）
   
   3. 检验权限是否添加完成
   
   ### 免除密码登录以及批量添加sudo权限
   
   1. 若想免除密码登录的话，修改成：sysadm ALL=(ALL) NOPASSWD:ALL
      
      ```
      ## Allow root to run any commands anywhere
      root    ALL=(ALL)       ALL
      sysadm  ALL=(ALL)       NOPASSWD:ALL
      ```
   
   2. 若多个用户都需要sudo权限的话，一个一个添加不方便，这样的话需要实现批量添加 即可以将用户加到用户组下
      步骤：将#%wheel ALL=(ALL) ALL的前面 注释#去掉
      
      ```
      ## Allows people in group wheel to run all commands
      
      %wheel ALL=(ALL)       ALL
      ```
      
      之后保存退出（保存退出的步骤和2中的注意一样）再 执行usermod -a -G wheel sysadm
      
      ```
      [root@192-168-5-133 ~]# usermod -a -G wheel sysadm
      ```
      
      若想免除密码登录的话，修改成这样：%wheel ALL=(ALL) NOPASSWD: ALL
      
      ```
      ## Same thing without a password
      
      %wheel  ALL=(ALL)       NOPASSWD: ALL
      ```

<div>
转自：https://blog.csdn.net/m0_51764535/article/details/114701598
</div>